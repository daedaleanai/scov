# GCovHTML
> Process the intermediate text format generated by gcov to generate reports on code coverage.

GCovHTML collects code coverage using `gcov`, and then generates reports on the data.  There is a simple text report that calculates the line coverage and function coverage for all of the source files.  For more detailed information, there is an HTML report ([example](https://stone.code.gitlab.io/gcovhtml/example/)).  The HTML report includes line coverage, function coverage, and possibly branch coverage.  Annotated source files are also created ([example](https://stone.code.gitlab.io/gcovhtml/example/example.c.html)).

## Getting started

To generate a report on code coverage, you should already have an instrumented binary.  Details of this are linked to your compiler, but for recent versions of `gcc`, adding the command-line flag `--coverage` to both compiling and linking should work.  Running the binary will then generate data files with the collected profiling information.  Afterwards, you will need to run `gcov` to convert the data to the intermediate text format.  Finally, you can run `gcovhtml` to create the HTML reports.

```shell
gcc --coverage -o ./example [source files]
./example
gcov -i [source files]
gcovhtml -title "My Report" -htmldir ./html *.gcov
```

This will create a folder, and insert the HTML files into that folder.  Open `index.html` to get an overview of the code coverage, and follow the links for annotated source files.

If you add the option `-b` when running `gcov`, the reports will include information on the branch coverage.

### Options

**-external**   Set whether external files to be included

**-h**	Request help

**-htmldir [folder]**  	Path for the HTML output (default ".")

**-srcdir [folder]**  	Path for the source directory (default ".")

**-text [filename]**   	Filename for text report, use - for stdout

**-title string**    	Title for the HTML pages (default "GCovHTML")

## Installation

### From Source

To build a copy of `gcovhtml`, you will need a copy of [Go](https://golang.org/).  For instructions on how to install Go, please refer to the language's website.  No dependencies beyond the standard library are required, although `gcovhtml` does require version 1.10 or higher to run the  automated testing.

Once Go is installed, you can clone the repository and build the application.

```shell
go get gitlab.com/stone.code/gcovhtml
```

### Binaries

Current binaries are built with every commit, and can be downloaded from the [pipelines pages](https://gitlab.com/stone.code/gcovhtml/pipelines).

## Contributing

Development of this project is ongoing.  If you have find a bug or have any suggestions, please [open an issue](https://gitlab.com/stone.code/gcovhtml/issues).

If you'd like to contribute, please fork the repository and make changes.  Pull requests are welcome.

## Related projects

- [gcov](https://gcc.gnu.org/onlinedocs/gcc/Gcov.html):  `gcov` is a tool you can use in conjunction with GCC to test code coverage in your programs. 
- [lcov](http://ltp.sourceforge.net/coverage/lcov.php):  LCOV is a graphical front-end for GCC's coverage testing tool gcov.
- [Gcovr](https://pypi.org/project/gcovr/):  Gcovr provides a utility for managing the use of the GNU gcov utility and generating summarized code coverage results.

## Licensing

This project is licensed under the [3-Clause BSD License](https://opensource.org/licenses/BSD-3-Clause).  See the LICENSE in the repository.
